<div class="spouse-info-section">
  @if (isLoading) {
    <div class="loading-state">
      <p>Buscando informações do cônjuge...</p>
    </div>
  }
  
  @if (!isLoading && hasError) {
    <div class="error-state">
      <p>Não foi possível carregar as informações do cônjuge ou telefone não encontrado.</p>
    </div>
  }
  
  @if (!isLoading && !hasError && conjugue) {
    <div class="spouse-details-box">
      <img 
        [src]="getNormalizedPhotoUrl(conjugue.fotoUrl)" 
        alt="Foto do Cônjuge"
        class="spouse-avatar"
        onerror="this.src='./img/avatar-default.png'"
      />
      <div class="spouse-text-details">
        <h3>{{ conjugue.nomeCompleto }}</h3>
        @if (conjugue.celular) {
          <p class="phone-display">
            <strong>Celular:</strong> 
            <span>{{ formatCelular(conjugue.celular) }}</span>
            @if (getWhatsAppLink(conjugue.celular)) {
              <a 
                [href]="getWhatsAppLink(conjugue.celular)" 
                target="_blank" 
                class="whatsapp-icon-button"
                title="Abrir no WhatsApp"
                (click)="$event.stopPropagation()"
                [innerHTML]="getWhatsAppIcon()"
              ></a>
            }
          </p>
        }
      </div>
    </div>
  }
</div>

